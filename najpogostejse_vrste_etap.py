# ### --Legenda etap---#################################
# p0 - ne vemo
# p1 - ravninska
# p2 - hribovska 2-kategorije ali hribovska
# p3 - hribovska 1-kategorije ali hribovska-gorska
# p4 - gorska 2-kategorije ali gorska-hribovska
# p5 - gorska 1-kategorije ali gorska
########################################################
import matplotlib.pyplot as plt
import json

e = open('opis_etap.json')
podatki = json.load(e)

slovar_tipov_etap = {'1903': [], '1904': [], '1905': [], '1906': [], '1907': [], '1908': [], '1909': [], '1910': [],'1911': [], '1912': [], '1913': [], '1914': [],'1919': [], '1920': [], '1921': [], '1922': [],
                     '1923': [], '1924': [], '1925': [], '1926': [],'1927': [], '1928': [], '1929': [], '1930': [],'1931': [], '1932': [], '1933': [], '1934': [],'1935': [], '1936': [], '1937': [], '1938': [],'1939': [], '1947': [], '1948': [], '1949': [],'1950': [], '1951': [], '1952': [], '1953': [],
                     '1954': [], '1955': [], '1956': [], '1957': [],'1958': [], '1959': [], '1960': [], '1961': [],'1962': [], '1963': [], '1964': [], '1965': [],'1966': [], '1967': [], '1968': [], '1969': [],'1970': [], '1971': [], '1972': [], '1973': [],'1974': [], '1975': [], '1976': [], '1977': [],
                     '1978': [], '1979': [], '1980': [], '1981': [],'1982': [], '1983': [], '1984': [], '1985': [],'1986': [], '1987': [], '1988': [], '1989': [],'1990': [], '1991': [], '1992': [], '1993': [],'1994': [], '1995': [], '1996': [], '1997': [],'1998': [], '1999': [], '2000': [], '2001': [],
                     '2002': [], '2003': [], '2004': [], '2005': [],'2006': [], '2007': [], '2008': [], '2009': [],'2010': [], '2011': [], '2012': [], '2013': [],'2014': [], '2015': [], '2016': [], '2017': [],'2018': [], '2019': [], '2020': [], '2021': [],
}
# Iz podatkov etap izluščimo tip etape za vsa leta
for kljuc in podatki:
    for podkljuc in podatki[kljuc]:
        slovar_tipov_etap[kljuc].append(podatki[kljuc][podkljuc][2])
        
def najbolj_pogosta_etapa(tabela):
    '''Pove najbolj pogosti tip etape v tabeli.'''
    stevec = 0
    st = tabela[0]
    for i in tabela:
        trenutno = tabela.count(i)
        if(trenutno > stevec):
            stevec = trenutno
            st = i
    return st


slovar_najbolj_pogostih_etap = {'1903': [], '1904': [], '1905': [], '1906': [], '1907': [], '1908': [], '1909': [], '1910': [],'1911': [], '1912': [], '1913': [], '1914': [],'1919': [], '1920': [], '1921': [], '1922': [],
                     '1923': [], '1924': [], '1925': [], '1926': [],'1927': [], '1928': [], '1929': [], '1930': [],'1931': [], '1932': [], '1933': [], '1934': [],'1935': [], '1936': [], '1937': [], '1938': [],'1939': [], '1947': [], '1948': [], '1949': [],'1950': [], '1951': [], '1952': [], '1953': [],
                     '1954': [], '1955': [], '1956': [], '1957': [],'1958': [], '1959': [], '1960': [], '1961': [],'1962': [], '1963': [], '1964': [], '1965': [],'1966': [], '1967': [], '1968': [], '1969': [],'1970': [], '1971': [], '1972': [], '1973': [],'1974': [], '1975': [], '1976': [], '1977': [],
                     '1978': [], '1979': [], '1980': [], '1981': [],'1982': [], '1983': [], '1984': [], '1985': [],'1986': [], '1987': [], '1988': [], '1989': [],'1990': [], '1991': [], '1992': [], '1993': [],'1994': [], '1995': [], '1996': [], '1997': [],'1998': [], '1999': [], '2000': [], '2001': [],
                     '2002': [], '2003': [], '2004': [], '2005': [],'2006': [], '2007': [], '2008': [], '2009': [],'2010': [], '2011': [], '2012': [], '2013': [],'2014': [], '2015': [], '2016': [], '2017': [],'2018': [], '2019': [], '2020': [], '2021': [],
}

for letnica in slovar_tipov_etap:
    slovar_najbolj_pogostih_etap[letnica] = najbolj_pogosta_etapa(slovar_tipov_etap[letnica])
    
  


slovar_stevil_tipov_etap = {'p0': 0, 'p1': 0, 'p2': 0, 'p3': 0, 'p4': 0, 'p5': 0}

for tip_etape in slovar_najbolj_pogostih_etap.values():
    slovar_stevil_tipov_etap[tip_etape] += 1
    
teren = list(slovar_stevil_tipov_etap.keys())
pogostost = list(slovar_stevil_tipov_etap.values())

plt.bar(teren, pogostost)
plt.title("Pogostost tipa etap")
plt.xlabel("Oznaka najpogostejše etape")
plt.ylabel("Število pojavitev")
plt.show()




e.close()




    
    

